services:
  - &base-config
    type: web
    name: render-env-test-staging
    env: static
    staticPublishPath: .
    pullRequestPreviewsEnabled: true
    branch: staging
    - &base-envvars
      envVars:
        - key: X_FOO
          value: generic x-foo
        - key: X_BAR
          value: staging x-bar-0

  - <<: *base-config
    name: render-env-test-prod
    pullRequestPreviewsEnabled: false
    branch: main
    - <<: *base-envvars
      envVars:
        - key: X_BAR
          value: production x-bar-0
