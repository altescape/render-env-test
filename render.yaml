services:
  - &base-config
    type: web
    name: render-env-test-staging
    env: static
    staticPublishPath: .
    pullRequestPreviewsEnabled: true
    branch: staging
    headers:
      - path: /*
        key: X-Render-Env
        value: generic
      - path: /*
        name: X-Test
        value: staging x-test-3
    envVars:
      - key: TEST_1
        value: staging test 1

  - <<: *base-config
    name: render-env-test-prod
    pullRequestPreviewsEnabled: false
    branch: main
    headers:
      - path: /*
        name: X-Test
        value: production x-test-1
    envVars:
      - key: TEST_1
        value: production test 1
